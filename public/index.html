<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gigaview - Tile Viewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <style>
      #map {
        height: 100%;
        min-height: 400px;
        background-color: #ddd;
      }
    </style>
  </head>
  <body class="bg-gray-100 h-screen flex flex-col">
    <header
      class="bg-white shadow p-4 flex items-center justify-between flex-shrink-0"
    >
      <h1
        id="logo"
        class="text-xl font-bold cursor-pointer hover:text-blue-600 transition-colors"
      >
        Gigaview
      </h1>
      <div id="hud" class="flex gap-4 text-sm">
        <div id="coordinates-info" class="hidden flex flex-col md:flex-row md:gap-2">
          <span>X: <span id="coord-x">0</span> px, Y: <span id="coord-y">0</span> px</span>
          <span class="hidden md:inline">|</span>
          <span>Lat: <span id="coord-lat">0</span>, Lng: <span id="coord-lng">0</span></span>
        </div>
        <div>File size: <span id="file-size">-</span> MB</div>
        <div>Downloaded: <span id="downloaded">0</span> MB</div>
      </div>
    </header>

    <div class="flex-1 flex flex-col md:flex-row overflow-hidden">
      <div
        id="image-list"
        class="bg-white shadow-lg overflow-x-auto md:overflow-y-auto md:overflow-x-hidden flex md:flex-col gap-2 p-2 md:w-64 flex-shrink-0"
      >
        <div class="text-gray-500 text-sm p-2 flex-shrink-0">
          Loading images...
        </div>
      </div>

      <div class="flex-1 flex overflow-hidden">
        <div
          id="about"
          class="w-full p-4 md:p-8 bg-gradient-to-br from-blue-50 to-indigo-50 overflow-y-auto"
        >
          <div class="max-w-2xl mx-auto">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-2xl md:text-3xl font-bold text-gray-800">
                Gigaview
              </h2>
              <div class="flex gap-2 items-center">
                <a
                  class="github-button"
                  href="https://github.com/garfik/gigaview"
                  data-icon="octicon-star"
                  data-size="large"
                  aria-label="Star garfik/gigaview on GitHub"
                  >Star</a
                >
                <a
                  class="github-button"
                  href="https://github.com/garfik/gigaview/fork"
                  data-icon="octicon-repo-forked"
                  data-size="large"
                  aria-label="Fork garfik/gigaview on GitHub"
                  >Fork</a
                >
              </div>
            </div>
            <p
              class="text-sm text-gray-600 mb-4 px-3 py-2 bg-blue-100 rounded-lg border border-blue-200"
            >
              <strong>Demo Project:</strong> This is a proof-of-concept
              demonstrating how to quickly build an interesting prototype using
              <strong>Leaflet</strong> and <strong>libvips</strong> for
              on-demand tile rendering of gigapixel images.
            </p>
            <p class="text-base md:text-lg text-gray-700 mb-6 leading-relaxed">
              An interactive tile-based viewer for large images. Gigaview allows
              you to load and view images of any size using an efficient tiling
              system that only loads visible portions of the image.
            </p>
            <div class="space-y-4 text-gray-600">
              <div>
                <h3 class="font-semibold text-gray-800 mb-2">Key Features:</h3>
                <ul class="list-disc list-inside space-y-2 ml-2">
                  <li>
                    View images of any size without downloading the entire file
                  </li>
                  <li>Zoom and pan with smooth navigation</li>
                  <li>Efficient bandwidth usage</li>
                  <li>Download statistics tracking</li>
                </ul>
              </div>
              <div class="mt-6 pt-6 border-t border-gray-300">
                <div
                  class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4"
                >
                  <p class="text-sm md:text-base font-semibold text-yellow-900 mb-2">
                    ðŸ“Œ Format Recommendations:
                  </p>
                  <p class="text-sm text-yellow-800">
                    For <strong>very large images</strong> (gigapixel images), <strong>TIFF format is strongly recommended</strong>. TIFF files work efficiently with memory-mapped access, allowing processing without loading entire files into memory.
                  </p>
                  <p class="text-sm text-yellow-800 mt-2">
                    <strong>PNG files can require significantly more memory</strong> for large images, as they may need to be fully decompressed. For gigapixel images, PNG can consume excessive RAM and may cause performance issues.
                  </p>
                </div>
                <div
                  class="bg-indigo-50 border border-indigo-200 rounded-lg p-4"
                >
                  <p class="text-sm md:text-base font-semibold text-indigo-900">
                    Select an image from the list to start viewing.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="map" class="flex-1 hidden"></div>
      </div>
    </div>
    <script>
      window.BASE_URL = "__PUBLIC_BASE_URL__";
    </script>
    <script src="main.js"></script>
  </body>
</html>
